<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Attendance Glass</title>

<style>
* {
  box-sizing: border-box;
  font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", sans-serif;
}

body {
  margin: 0;
  background: linear-gradient(135deg, #0f172a, #1e293b);
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  color: white;
}

.card {
  width: 95%;
  max-width: 520px;
  padding: 28px;
  border-radius: 28px;
  backdrop-filter: blur(30px);
  background: rgba(255,255,255,0.08);
  border: 1px solid rgba(255,255,255,0.15);
  box-shadow: 0 40px 100px rgba(0,0,0,0.6);
}

h1 {
  text-align: center;
  font-weight: 600;
  margin-bottom: 20px;
}

input {
  width: 100%;
  padding: 12px;
  margin-bottom: 10px;
  border-radius: 14px;
  border: none;
  background: rgba(255,255,255,0.1);
  color: white;
  font-size: 14px;
  outline: none;
}

input::placeholder {
  color: rgba(255,255,255,0.6);
}

button {
  width: 100%;
  padding: 14px;
  border-radius: 16px;
  border: none;
  background: linear-gradient(135deg, #6366f1, #8b5cf6);
  color: white;
  font-weight: 600;
  font-size: 15px;
  cursor: pointer;
  margin-top: 10px;
  transition: 0.2s ease;
}

button:hover {
  transform: scale(1.03);
}

.result {
  margin-top: 20px;
  padding: 18px;
  border-radius: 18px;
  background: rgba(255,255,255,0.1);
  font-size: 14px;
  line-height: 1.6;
  transition: 0.3s ease;
}

.safe { border: 1px solid rgba(0,255,150,0.6); }
.warn { border: 1px solid rgba(255,180,0,0.6); }
.danger { border: 1px solid rgba(255,60,60,0.7); }
</style>
</head>

<body>

<div class="card">
<h1>Combined Attendance</h1>

<input type="number" id="dsL" placeholder="DS Lecture %">
<input type="number" id="dsP" placeholder="DS Practical %">
<input type="number" id="dsS" placeholder="DS Skill %">

<input type="number" id="pyL" placeholder="Python Lecture %">
<input type="number" id="pyP" placeholder="Python Practical %">

<input type="number" id="laT" placeholder="Linear Algebra Tutorial %">
<input type="number" id="laS" placeholder="Linear Algebra Skill %">

<input type="number" id="dtwP" placeholder="Design Tools Practical %">

<input type="number" id="coaL" placeholder="COA Lecture %">

<input type="number" id="iotL" placeholder="IoT Lecture %">
<input type="number" id="iotP" placeholder="IoT Practical %">

<input type="number" id="commP" placeholder="Communication Practical %">

<button onclick="calculate()">Calculate</button>

<div class="result" id="result"></div>
</div>

<script>

// Fixed totals
const totals = {
  dsL:46, dsP:30, dsS:58,
  pyL:32, pyP:32,
  laT:28, laS:30,
  dtwP:60,
  coaL:46,
  iotL:28, iotP:28,
  commP:62
};

// Weights
const weights = {
  L:1,
  P:0.5,
  T:0.25,
  S:0.25
};

function calculate() {

  let weightedTotal = 0;
  let weightedAttended = 0;

  for (let key in totals) {

    let percent = parseFloat(document.getElementById(key).value);
    if (!percent) percent = 0;

    let totalClasses = totals[key];
    let type = key.slice(-1);
    let weight = weights[type];

    let attended = (percent/100) * totalClasses;

    weightedTotal += totalClasses * weight;
    weightedAttended += attended * weight;
  }

  let combined = (weightedAttended / weightedTotal) * 100;
  let required = 0.85 * weightedTotal;
  let margin = weightedAttended - required;

  let safeLecture = Math.floor(margin / 1);
  let safePractical = Math.floor(margin / 0.5);
  let safeTutorial = Math.floor(margin / 0.25);

  let box = document.getElementById("result");

  let statusClass = "safe";
  if (combined < 85) statusClass = "danger";
  else if (combined < 88) statusClass = "warn";

  box.className = "result " + statusClass;

  box.innerHTML = `
    Combined Attendance: <b>${combined.toFixed(2)}%</b><br><br>
    Margin Units Left: ${margin.toFixed(2)}<br><br>
    Safe Bunks Equivalent:<br>
    Lectures: ${safeLecture}<br>
    Practicals: ${safePractical}<br>
    Tutorials/Skills: ${safeTutorial}
  `;
}
</script>

</body>
</html>
