<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Attendance Pro</title>

<style>
body {
  margin: 0;
  background: #0f172a;
  color: white;
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
  display: flex;
  justify-content: center;
  padding: 30px;
}

.card {
  width: 100%;
  max-width: 500px;
}

h1 {
  text-align: center;
  margin-bottom: 20px;
}

input {
  width: 100%;
  padding: 12px;
  margin-bottom: 10px;
  border-radius: 10px;
  border: none;
  background: #1e293b;
  color: white;
}

button {
  width: 100%;
  padding: 14px;
  border-radius: 12px;
  border: none;
  background: #6366f1;
  color: white;
  font-weight: 600;
  cursor: pointer;
  margin-top: 10px;
}

.result {
  margin-top: 20px;
  background: #1e293b;
  padding: 15px;
  border-radius: 12px;
  font-size: 14px;
}
</style>
</head>

<body>

<div class="card">
<h1>Combined Attendance</h1>

<input type="number" id="dsL" placeholder="DS Lecture %">
<input type="number" id="dsP" placeholder="DS Practical %">
<input type="number" id="dsS" placeholder="DS Skill %">

<input type="number" id="pyL" placeholder="Python Lecture %">
<input type="number" id="pyP" placeholder="Python Practical %">

<input type="number" id="laT" placeholder="Linear Algebra Tutorial %">
<input type="number" id="laS" placeholder="Linear Algebra Skill %">

<input type="number" id="dtwP" placeholder="Design Tools Practical %">

<input type="number" id="coaL" placeholder="COA Lecture %">

<input type="number" id="iotL" placeholder="IoT Lecture %">
<input type="number" id="iotP" placeholder="IoT Practical %">

<input type="number" id="commP" placeholder="Communication Practical %">

<button onclick="calculate()">Calculate</button>

<div class="result" id="result"></div>
</div>

<script>

// Fixed totals
const totals = {
  dsL:46, dsP:30, dsS:58,
  pyL:32, pyP:32,
  laT:28, laS:30,
  dtwP:60,
  coaL:46,
  iotL:28, iotP:28,
  commP:62
};

// Weights
const weights = {
  L:1,
  P:0.5,
  T:0.25,
  S:0.25
};

function calculate() {

  let weightedTotal = 0;
  let weightedAttended = 0;

  for (let key in totals) {

    let percent = parseFloat(document.getElementById(key).value);
    if (!percent) percent = 0;

    let totalClasses = totals[key];

    let componentType = key.slice(-1); // L,P,T,S
    let weight = weights[componentType];

    let attended = (percent/100) * totalClasses;

    weightedTotal += totalClasses * weight;
    weightedAttended += attended * weight;
  }

  let currentCombined = (weightedAttended / weightedTotal) * 100;

  let requiredWeighted = 0.85 * weightedTotal;
  let margin = weightedAttended - requiredWeighted;

  let safeLectureBunks = Math.floor(margin / 1);
  let safePracticalBunks = Math.floor(margin / 0.5);
  let safeTutorialBunks = Math.floor(margin / 0.25);

  document.getElementById("result").innerHTML = `
    Current Combined: <b>${currentCombined.toFixed(2)}%</b><br><br>
    You can lose weighted units: ${margin.toFixed(2)}<br><br>
    Equivalent Safe Bunks:<br>
    Lectures: ${safeLectureBunks}<br>
    Practicals: ${safePracticalBunks}<br>
    Tutorials/Skills: ${safeTutorialBunks}
  `;
}
</script>

</body>
</html>

